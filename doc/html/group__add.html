<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TaskManager: Adding Tasks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TaskManager<span id="projectnumber">&#160;2.0</span>
   </div>
   <div id="projectbrief">A Task Manager for Arduinos</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Adding Tasks<div class="ingroups"><a class="el" href="group___task_manager.html">TaskManager</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="memitem:ga3b61b260f5ddd9676f7a6899da40ad9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#ga3b61b260f5ddd9676f7a6899da40ad9e">TaskManager::add</a> (tm_taskId_t taskId, void(*fn)())</td></tr>
<tr class="memdesc:ga3b61b260f5ddd9676f7a6899da40ad9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple task.  <a href="group___task_manager.html#ga3b61b260f5ddd9676f7a6899da40ad9e">More...</a><br /></td></tr>
<tr class="separator:ga3b61b260f5ddd9676f7a6899da40ad9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0d87e94ca41ece59e98adba02ba8103"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#gad0d87e94ca41ece59e98adba02ba8103">TaskManager::addWaitDelay</a> (tm_taskId_t taskId, void(*fn)(), unsigned long msDelay)</td></tr>
<tr class="memdesc:gad0d87e94ca41ece59e98adba02ba8103"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a task that will be delayed before its first invocation.  <a href="group___task_manager.html#gad0d87e94ca41ece59e98adba02ba8103">More...</a><br /></td></tr>
<tr class="separator:gad0d87e94ca41ece59e98adba02ba8103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef8ccd8e7753e35a483dd8d9203ef8ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#gaef8ccd8e7753e35a483dd8d9203ef8ca">TaskManager::addWaitUntil</a> (tm_taskId_t taskId, void(*fn)(), unsigned long msWhen)</td></tr>
<tr class="memdesc:gaef8ccd8e7753e35a483dd8d9203ef8ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a task that will be delayed until a set system clock time before its first invocation.  <a href="group___task_manager.html#gaef8ccd8e7753e35a483dd8d9203ef8ca">More...</a><br /></td></tr>
<tr class="separator:gaef8ccd8e7753e35a483dd8d9203ef8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51b5017ee459e0d54a0995c084bd273f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#ga51b5017ee459e0d54a0995c084bd273f">TaskManager::addWaitMessage</a> (tm_taskId_t taskId, void(*fn)(), unsigned long timeout=0)</td></tr>
<tr class="memdesc:ga51b5017ee459e0d54a0995c084bd273f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a task that is waiting for a message.  <a href="group___task_manager.html#ga51b5017ee459e0d54a0995c084bd273f">More...</a><br /></td></tr>
<tr class="separator:ga51b5017ee459e0d54a0995c084bd273f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41d58e9b9e596b19264bb2cbf7c02878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#ga41d58e9b9e596b19264bb2cbf7c02878">TaskManager::addAutoWaitDelay</a> (tm_taskId_t taskId, void(*fn)(), unsigned long period, bool startDelayed=false)</td></tr>
<tr class="memdesc:ga41d58e9b9e596b19264bb2cbf7c02878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a task that will automatically reschedule itself with a delay.  <a href="group___task_manager.html#ga41d58e9b9e596b19264bb2cbf7c02878">More...</a><br /></td></tr>
<tr class="separator:ga41d58e9b9e596b19264bb2cbf7c02878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c4cd56685a46a66bb3b5a25c1ba8685"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___task_manager.html#ga2c4cd56685a46a66bb3b5a25c1ba8685">TaskManager::addAutoWaitMessage</a> (tm_taskId_t taskId, void(*fn)(), unsigned long timeout=0, bool startWaiting=true)</td></tr>
<tr class="memdesc:ga2c4cd56685a46a66bb3b5a25c1ba8685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a task that is waiting for a message or until a timeout occurs.  <a href="group___task_manager.html#ga2c4cd56685a46a66bb3b5a25c1ba8685">More...</a><br /></td></tr>
<tr class="separator:ga2c4cd56685a46a66bb3b5a25c1ba8685"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3b61b260f5ddd9676f7a6899da40ad9e" name="ga3b61b260f5ddd9676f7a6899da40ad9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b61b260f5ddd9676f7a6899da40ad9e">&#9670;&nbsp;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::add </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a simple task. </p>
<p >The task will execute once each cycle through the task list. Unless the task itself forces itself into a different scheduling model (e.g., through YieldSignal), it will execute again at the next available opportunity </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [1 239]. System tasks have taskId values in the range [240 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___task_manager.html#gad0d87e94ca41ece59e98adba02ba8103" title="Add a task that will be delayed before its first invocation.">addWaitDelay</a>, <a class="el" href="group___task_manager.html#gaef8ccd8e7753e35a483dd8d9203ef8ca" title="Add a task that will be delayed until a set system clock time before its first invocation.">addWaitUntil</a>, <a class="el" href="group___task_manager.html#ga41d58e9b9e596b19264bb2cbf7c02878" title="Add a task that will automatically reschedule itself with a delay.">addAutoWaitDelay</a> </dd></dl>

</div>
</div>
<a id="ga41d58e9b9e596b19264bb2cbf7c02878" name="ga41d58e9b9e596b19264bb2cbf7c02878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41d58e9b9e596b19264bb2cbf7c02878">&#9670;&nbsp;</a></span>addAutoWaitDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::addAutoWaitDelay </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>startDelayed</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a task that will automatically reschedule itself with a delay. </p>
<p >This task will execute once each cycle. The task will automatically reschedule itself to not execute until the given delay has passed. The first execution may be delayed using the optional fourth parameter startDelayed. This delay, if used, will be the same as the period.</p>
<p >Note that yielding for messages or signals may extend this delay. However, if a signal/message is received during the delay period., the procedure will still wait until the end of the delay period. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [0 127]. System tasks have taskId values in the range [128 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
    <tr><td class="paramname">period</td><td>&ndash; the schedule, in milliseconds </td></tr>
    <tr><td class="paramname">startDelayed</td><td>&ndash; for the first execution, start immediately (false), or delay its start for one period (true) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___task_manager.html#ga3b61b260f5ddd9676f7a6899da40ad9e" title="Add a simple task.">add</a>, addDelayed, <a class="el" href="group___task_manager.html#gaef8ccd8e7753e35a483dd8d9203ef8ca" title="Add a task that will be delayed until a set system clock time before its first invocation.">addWaitUntil</a> </dd></dl>

</div>
</div>
<a id="ga2c4cd56685a46a66bb3b5a25c1ba8685" name="ga2c4cd56685a46a66bb3b5a25c1ba8685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c4cd56685a46a66bb3b5a25c1ba8685">&#9670;&nbsp;</a></span>addAutoWaitMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::addAutoWaitMessage </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>startWaiting</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a task that is waiting for a message or until a timeout occurs. </p>
<p >The task will be added, but will be set to be waiting for the listed signal. If the signal does not arrive before the timeout period (in milliseconds), then the routine will be activated. The routine may use <a class="el" href="group__receive.html#gae7641b79a5efb0a5e640daa8f623fa5c" title="Tell if the current task has timed out while waiting for a signal or message.">TaskManager::timedOut()</a> to determine whether it timed our or received the signal. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [0 127]. System tasks have taskId values in the range [128 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; the maximum time to wait (in ms) before timing out. </td></tr>
    <tr><td class="paramname">startWaiting</td><td>&ndash; tells whether the routine will start waiting for the signal (true) or will execute immediately (false). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___task_manager.html#ga51b5017ee459e0d54a0995c084bd273f" title="Add a task that is waiting for a message.">addWaitMessage</a> </dd></dl>

</div>
</div>
<a id="gad0d87e94ca41ece59e98adba02ba8103" name="gad0d87e94ca41ece59e98adba02ba8103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0d87e94ca41ece59e98adba02ba8103">&#9670;&nbsp;</a></span>addWaitDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::addWaitDelay </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>msDelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a task that will be delayed before its first invocation. </p>
<p >This task will execute once each cycle. Its first execution will be delayed for a set time. After this, unless the task forces itself into a different scheduling model (e.g., through yieldSignal), it will execute agaion at the next available opportunity. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [0 127]. System tasks have taskId values in the range [128 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
    <tr><td class="paramname">msDelay</td><td>&ndash; the initial delay, in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___task_manager.html#ga3b61b260f5ddd9676f7a6899da40ad9e" title="Add a simple task.">add</a>, <a class="el" href="group___task_manager.html#gaef8ccd8e7753e35a483dd8d9203ef8ca" title="Add a task that will be delayed until a set system clock time before its first invocation.">addWaitUntil</a>, <a class="el" href="group___task_manager.html#ga41d58e9b9e596b19264bb2cbf7c02878" title="Add a task that will automatically reschedule itself with a delay.">addAutoWaitDelay</a> </dd></dl>

</div>
</div>
<a id="ga51b5017ee459e0d54a0995c084bd273f" name="ga51b5017ee459e0d54a0995c084bd273f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51b5017ee459e0d54a0995c084bd273f">&#9670;&nbsp;</a></span>addWaitMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::addWaitMessage </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a task that is waiting for a message. </p>
<p >The task will be added, but will be waiting for a message. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [0 127]. System tasks have taskId values in the range [128 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; the maximum time to wait (in ms) before timing out. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaef8ccd8e7753e35a483dd8d9203ef8ca" name="gaef8ccd8e7753e35a483dd8d9203ef8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef8ccd8e7753e35a483dd8d9203ef8ca">&#9670;&nbsp;</a></span>addWaitUntil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskManager::addWaitUntil </td>
          <td>(</td>
          <td class="paramtype">tm_taskId_t&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>msWhen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a task that will be delayed until a set system clock time before its first invocation. </p>
<p >This task will execute once each cycle. Its first execution will be delayed until a set system clock time. After this, unless the task forces itself into a different scheduling model (e.g., through yieldSignal), it will execute agaion at the next available opportunity. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>- the task's ID. For normal user tasks, this should be a byte value in the range [0 127]. System tasks have taskId values in the range [128 255]. </td></tr>
    <tr><td class="paramname">fn</td><td>&ndash; this is a void function with no arguments. This is the procedure that is called every time the task is invoked. </td></tr>
    <tr><td class="paramname">msWhen</td><td>&ndash; the initial delay, in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___task_manager.html#ga3b61b260f5ddd9676f7a6899da40ad9e" title="Add a simple task.">add</a>, <a class="el" href="group___task_manager.html#gad0d87e94ca41ece59e98adba02ba8103" title="Add a task that will be delayed before its first invocation.">addWaitDelay</a>, <a class="el" href="group___task_manager.html#ga41d58e9b9e596b19264bb2cbf7c02878" title="Add a task that will automatically reschedule itself with a delay.">addAutoWaitDelay</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 22 2022 15:26:17 for TaskManager by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
